# ุฏูุฑุฉ ุนูู ุงูุดุฑุงุก ูุงููุฎุฒูู - ุงูุชุญููู ูุงูุชุฏุงุฎู

## ๐ **ุงููุดููุฉ ุงููุทุฑูุญุฉ**

ุณุคุงูู ููู ุฌุฏุงู! ููุงู ุชุฏุงุฎู ูุนุฏู ูุถูุญ ูู ุงูุนูุงูุฉ ุจูู:
1. **ุฃูุงูุฑ ุงูุดุฑุงุก** (Purchase Orders)
2. **ูุนุงููุงุช ุงููุฎุฒูู** (Inventory Transactions)

## ๐ **ุงููุถุน ุงูุญุงูู ูู ุงููุธุงู**

### 1. ุฃูุงูุฑ ุงูุดุฑุงุก (Purchase Orders)
- **ุงููุธููุฉ:** ุทูุจ ุดุฑุงุก ูู ุงูููุฑุฏ
- **ุงูุญุงูุงุช:** `draft`, `ordered`, `received`, `cancelled`
- **ุงููุดููุฉ:** ูุง ูุชู ุชุญุฏูุซ ุงููุฎุฒูู ุชููุงุฆูุงู ุนูุฏ ุงุณุชูุงู ุงูุจุถุงุนุฉ

### 2. ูุนุงููุงุช ุงููุฎุฒูู (Inventory Transactions)
- **ุงููุธููุฉ:** ุชุณุฌูู ุญุฑูุฉ ุงููุฎุฒูู
- **ุงูุฃููุงุน:** `receipt`, `issue`, `transfer`, `adjustment`
- **ุงููุดููุฉ:** ูููุตูุฉ ุนู ุฃูุงูุฑ ุงูุดุฑุงุก

## ๐ค **ูู ูุฐุง ููุทููุ**

### โ **ูุงุ ูุฐุง ุบูุฑ ููุทูู ููุฃุณุจุงุจ ุงูุชุงููุฉ:**

1. **ุงููุตุงู ุงูุนูููุงุช:** ุฃูุฑ ุงูุดุฑุงุก ูุง ูุฑุชุจุท ุจุงููุฎุฒูู
2. **ุนูู ูุฒุฏูุฌ:** ูุฌุจ ุชุณุฌูู ููุณ ุงูุนูููุฉ ูุฑุชูู
3. **ุฃุฎุทุงุก ูุญุชููุฉ:** ุนุฏู ุชุทุงุจู ุจูู ุงูุทูุจ ูุงูุงุณุชูุงู
4. **ุนุฏู ุชุชุจุน:** ูุง ูููู ุชุชุจุน ูุตุฏุฑ ุงูุจุถุงุนุฉ

## ๐ **ููู ูุฌุจ ุฃู ูุนูู ุงููุธุงู**

### **ุงูุฏูุฑุฉ ุงูุตุญูุญุฉ:**

```
1. ุฅูุดุงุก ุฃูุฑ ุดุฑุงุก โ 2. ุชุฃููุฏ ุงูุทูุจ โ 3. ุงุณุชูุงู ุงูุจุถุงุนุฉ โ 4. ุชุญุฏูุซ ุงููุฎุฒูู ุชููุงุฆูุงู
```

### **ุงูุชูุงุตูู:**

1. **ุฃูุฑ ุงูุดุฑุงุก (Draft)**
   - ุทูุจ ุฃููู ููููุฑุฏ
   - ูุง ูุคุซุฑ ุนูู ุงููุฎุฒูู

2. **ุฃูุฑ ุงูุดุฑุงุก (Ordered)**
   - ุชู ุฅุฑุณุงู ุงูุทูุจ ููููุฑุฏ
   - ูุง ูุคุซุฑ ุนูู ุงููุฎุฒูู

3. **ุฃูุฑ ุงูุดุฑุงุก (Received)**
   - ุชู ุงุณุชูุงู ุงูุจุถุงุนุฉ
   - **ูุฌุจ ุฃู ูุญุฏุซ ุงููุฎุฒูู ุชููุงุฆูุงู**
   - ุฅูุดุงุก ูุนุงููุงุช ูุฎุฒูู ูู ููุน `receipt`

4. **ูุนุงููุงุช ุงููุฎุฒูู**
   - ุชุณุฌูู ุชููุงุฆู ุนูุฏ ุงุณุชูุงู ุงูุจุถุงุนุฉ
   - ุฑุจุท ูุน ุฃูุฑ ุงูุดุฑุงุก

## ๐๏ธ **ุงูุญู ุงูููุชุฑุญ**

### **1. ุฑุจุท ุฃูุงูุฑ ุงูุดุฑุงุก ุจุงููุฎุฒูู**

```php
// ุนูุฏ ุชุบููุฑ ุญุงูุฉ ุฃูุฑ ุงูุดุฑุงุก ุฅูู 'received'
public function receivePurchaseOrder($id)
{
    $purchaseOrder = PurchaseOrder::findOrFail($id);
    
    DB::transaction(function () use ($purchaseOrder) {
        // ุชุญุฏูุซ ุญุงูุฉ ุฃูุฑ ุงูุดุฑุงุก
        $purchaseOrder->update(['status' => 'received']);
        
        // ุฅูุดุงุก ูุนุงููุงุช ูุฎุฒูู ุชููุงุฆูุงู
        foreach ($purchaseOrder->items as $item) {
            InventoryTransaction::create([
                'transaction_date' => now(),
                'reference_no' => 'PO-' . $purchaseOrder->order_no . '-' . $item->id,
                'type' => 'receipt',
                'item_id' => $item->item_id,
                'warehouse_id' => 1, // ุงููุณุชูุฏุน ุงูุงูุชุฑุงุถู
                'quantity' => $item->quantity,
                'unit_cost' => $item->unit_price,
                'reference_type' => 'purchase_order',
                'reference_id' => $purchaseOrder->id,
                'description' => 'ุงุณุชูุงู ุจุถุงุนุฉ ูู ุฃูุฑ ุดุฑุงุก: ' . $purchaseOrder->order_no,
                'created_by' => auth()->id(),
            ]);
        }
    });
}
```

### **2. ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ูู ูุงุฌูุฉ ุฃูุฑ ุงูุดุฑุงุก**

```html
<!-- ูู ุตูุญุฉ ุนุฑุถ ุฃูุฑ ุงูุดุฑุงุก -->
@if($purchaseOrder->status == 'ordered')
    <form action="{{ route('purchase_orders.receive', $purchaseOrder->id) }}" method="POST">
        @csrf
        @method('PUT')
        <button type="submit" class="btn btn-success">
            <i class="fas fa-check"></i> ุงุณุชูุงู ุงูุจุถุงุนุฉ
        </button>
    </form>
@endif
```

### **3. ุชุญุฏูุซ ุฏุงูุฉ ุญุณุงุจ ุงููุฎุฒูู**

```php
public function getAvailableStock($itemId)
{
    $receipts = InventoryTransaction::where('item_id', $itemId)
        ->whereIn('type', ['receipt', 'transfer'])
        ->sum('quantity');
    
    $issues = InventoryTransaction::where('item_id', $itemId)
        ->whereIn('type', ['issue', 'sale'])
        ->sum('quantity');
    
    return $receipts - $issues;
}
```

## ๐ **ุงููุฑู ุจูู ุงููุธุงููู**

### **ุงููุธุงู ุงูุญุงูู (ุบูุฑ ููุทูู):**
```
ุฃูุฑ ุดุฑุงุก โ ุงุณุชูุงู โ ุชุณุฌูู ูุฏูู ูู ุงููุฎุฒูู
```

### **ุงููุธุงู ุงูููุชุฑุญ (ููุทูู):**
```
ุฃูุฑ ุดุฑุงุก โ ุงุณุชูุงู โ ุชุญุฏูุซ ุชููุงุฆู ูููุฎุฒูู
```

## ๐ฏ **ุงููุฒุงูุง ุจุนุฏ ุงูุชุทุจูู**

1. **ุชุชุจุน ุฏููู:** ูู ุจุถุงุนุฉ ูุฑุชุจุทุฉ ุจุฃูุฑ ุดุฑุงุก
2. **ุชูููู ุงูุฃุฎุทุงุก:** ูุง ุญุงุฌุฉ ูุชุณุฌูู ูุฏูู
3. **ุดูุงููุฉ:** ูููู ุชุชุจุน ูุตุฏุฑ ูู ุจุถุงุนุฉ
4. **ุชูุงุฑูุฑ ุฏูููุฉ:** ูุฎุฒูู ุฏููู ููุญุฏุซ

## ๐ง **ุงูุชูููุฐ**

ูู ุชุฑูุฏ ููู ุชุทุจูู ูุฐุง ุงูุญูุ ุณุฃููู ุจู:

1. ุฅุถุงูุฉ ุฏุงูุฉ ุงุณุชูุงู ุงูุจุถุงุนุฉ
2. ุฑุจุท ุฃูุงูุฑ ุงูุดุฑุงุก ุจูุนุงููุงุช ุงููุฎุฒูู
3. ุชุญุฏูุซ ุงููุงุฌูุงุช
4. ุฅุถุงูุฉ ุงูุชุญูู ูู ุงููุฎุฒูู

ูุฐุง ุณูุฌุนู ุงููุธุงู ุฃูุซุฑ ููุทููุฉ ูููุงุกุฉ! ๐ 