# دليل حل مشاكل الإنتاج

## المشاكل الشائعة وحلولها

### 1. مشكلة "لا توجد مواد محددة للإنتاج"

**السبب:** لم يتم اختيار قائمة المواد (BOM) عند إنشاء أمر الإنتاج.

**الحل:**
- تأكد من وجود قوائم مواد (BOM) للمنتج المراد إنتاجه
- عند إنشاء أمر الإنتاج، اختر قائمة المواد المناسبة
- تأكد من أن قائمة المواد تحتوي على مواد خام صحيحة

### 2. مشكلة "المواد الخام غير متوفرة"

**السبب:** لا يوجد مخزون كافي من المواد الخام المطلوبة.

**الحل:**
- تحقق من مخزون المواد الخام في المستودعات
- قم بإضافة مخزون للمواد الخام المطلوبة
- تأكد من صحة قائمة المواد وكمياتها

### 3. مشكلة "المادة غير موجودة في النظام"

**السبب:** تم حذف المادة من النظام أو عدم وجودها.

**الحل:**
- تحقق من وجود المواد الخام في النظام
- أعد إنشاء المواد المفقودة
- تأكد من صحة قائمة المواد

### 4. مشكلة "لا يمكن بدء الإنتاج إلا إذا كان الأمر في حالة مفعل"

**السبب:** أمر الإنتاج في حالة مسودة ولم يتم تفعيله.

**الحل:**
- قم بتفعيل أمر الإنتاج أولاً
- ثم ابدأ الإنتاج

### 5. مشكلة "فشل في صرف المواد: SQLSTATE[23000]: Integrity constraint violation"

**السبب:** مشكلة في قاعدة البيانات أو عدم وجود مستودع.

**الحل:**
- تأكد من وجود مستودعات في النظام
- تحقق من صحة البيانات في قاعدة البيانات
- تأكد من وجود المواد الخام في المخزون

## خطوات بدء الإنتاج الصحيحة

### 1. إنشاء أمر الإنتاج
- أدخل رقم الأمر الفريد
- اختر المنتج النهائي المراد إنتاجه
- اختر قائمة المواد (BOM) المناسبة
- حدد الكمية المطلوبة
- حدد تاريخ البدء والانتهاء
- اختر مركز العمل (اختياري)
- أضف ملاحظات إذا لزم الأمر

### 2. تفعيل أمر الإنتاج
- انتقل إلى تفاصيل أمر الإنتاج
- اضغط على زر "تفعيل الأمر"
- تأكد من أن الحالة تغيرت إلى "مفعل"

### 3. بدء الإنتاج
- تأكد من توفر المواد الخام في المخزون
- اضغط على زر "بدء الإنتاج"
- سيتم خصم المواد الخام من المخزون تلقائياً

### 4. إكمال الإنتاج
- بعد انتهاء الإنتاج، اضغط على "إكمال الإنتاج"
- أدخل الكمية الفعلية المنتجة
- اختر المستودع لإضافة المنتج النهائي إليه

## نصائح مهمة

1. **تأكد من وجود قوائم المواد:** بدون قائمة مواد لا يمكن بدء الإنتاج
2. **تحقق من المخزون:** تأكد من توفر المواد الخام قبل بدء الإنتاج
3. **استخدم المنتجات النهائية:** تأكد من أن المنتج المختار من نوع "منتجات نهائية"
4. **راجع البيانات:** تأكد من صحة جميع البيانات قبل حفظ أمر الإنتاج

## رسائل الخطأ الشائعة

- **"لا توجد مواد محددة للإنتاج"**: اختر قائمة المواد عند إنشاء الأمر
- **"المواد الخام غير متوفرة"**: أضف مخزون للمواد الخام
- **"المادة غير موجودة في النظام"**: تحقق من وجود المواد في النظام
- **"لا يمكن بدء الإنتاج إلا إذا كان الأمر في حالة مفعل"**: فعّل الأمر أولاً
- **"فشل في صرف المواد: SQLSTATE[23000]"**: تأكد من وجود مستودعات ومواد خام في النظام

## للتواصل والدعم

إذا استمرت المشاكل، يرجى:
1. مراجعة سجلات النظام
2. التأكد من صحة البيانات
3. التواصل مع مدير النظام 