# ุงูุฑุจุท ุงููุงูู ุงููุทุจู - ุฃูุงูุฑ ุงูุดุฑุงุก ูุงูุฎุฒูุฉ ุงูุนุงูุฉ ูุงููุฏููุนุงุช

## โ **ูุง ุชู ุชุทุจููู ุจุงููุงูู**

### ๐ **1. ุฑุจุท ุฃูุงูุฑ ุงูุดุฑุงุก ุจุงููุฏููุนุงุช**

#### **ุนูุฏ ุงุณุชูุงู ุงูุจุถุงุนุฉ:**
```php
// ุฅุฐุง ูุงู ุงูุฏูุน ุขุฌู
if ($purchaseOrder->payment_type == 'credit') {
    SupplierPayment::create([
        'supplier_id' => $purchaseOrder->supplier_id,
        'amount' => $purchaseOrder->total_amount,
        'reference_type' => 'purchase_order',
        'reference_id' => $purchaseOrder->id,
        'status' => 'pending',
    ]);
}
// ุฅุฐุง ูุงู ุงูุฏูุน ููุฏู
else {
    $treasury->addPayment(
        $purchaseOrder->total_amount,
        'ุฏูุน ููุฏู ููููุฑุฏ: ' . $purchaseOrder->supplier->name,
        'purchase_order',
        $purchaseOrder->id
    );
}
```

### ๐ฐ **2. ุฑุจุท ุงููุฏููุนุงุช ุจุงูุฎุฒูุฉ ุงูุนุงูุฉ**

#### **ุนูุฏ ุฏูุน ุงูููุฑุฏ:**
```php
public function pay($id)
{
    DB::transaction(function () use ($payment) {
        // ุชุญุฏูุซ ุญุงูุฉ ุงูุฏูุน
        $payment->update(['status' => 'paid']);
        
        // ุฎุตู ูู ุงูุฎุฒูุฉ ุงูุนุงูุฉ
        $treasury->addPayment(
            $payment->amount,
            'ุฏูุน ููููุฑุฏ: ' . $payment->supplier->name,
            'supplier_payment',
            $payment->id
        );
    });
}
```

### ๐ **3. ุญุณุงุจ ุงูุฃุฑุจุงุญ ุงููุญููุฉ**

#### **ุฏูุงู ุฌุฏูุฏุฉ ูู Item Model:**
```php
// ุฅุฌูุงูู ุงูุชูููุฉ
$item->total_cost

// ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช
$item->total_revenue

// ุงูุฑุจุญ ุงูุฅุฌูุงูู
$item->gross_profit

// ูุงูุด ุงูุฑุจุญ
$item->profit_margin

// ุงูุฑุจุญ ููู ูุญุฏุฉ
$item->profit_per_unit
```

## ๐ **ุฏูุฑุฉ ุงูุนูู ุงููุงููุฉ**

### **ุงููุฑุญูุฉ 1: ุฅูุดุงุก ุฃูุฑ ุงูุดุฑุงุก**
```
โ ุฅูุดุงุก ุฃูุฑ ุดุฑุงุก ุฌุฏูุฏ
โ ุชุญุฏูุฏ ุทุฑููุฉ ุงูุฏูุน (ููุฏู/ุขุฌู)
โ ุงูุญุงูุฉ: ูุณูุฏุฉ
โ ูุง ุชุฃุซูุฑ ุนูู ุงููุฎุฒูู ุฃู ุงูุฎุฒูุฉ
```

### **ุงููุฑุญูุฉ 2: ุชุฃููุฏ ุฃูุฑ ุงูุดุฑุงุก**
```
โ ุชุฃููุฏ ุงูุฃูุฑ
โ ุฅุฑุณุงู ููููุฑุฏ
โ ุงูุญุงูุฉ: ูุทููุจ
โ ูุง ุชุฃุซูุฑ ุนูู ุงููุฎุฒูู ุฃู ุงูุฎุฒูุฉ
```

### **ุงููุฑุญูุฉ 3: ุงุณุชูุงู ุงูุจุถุงุนุฉ**
```
โ ุงุณุชูุงู ุงูุจุถุงุนุฉ
โ ุชุญุฏูุซ ุงููุฎุฒูู ุชููุงุฆูุงู
โ ุฅูุดุงุก ูุนุงููุงุช ูุฎุฒูู

ุฅุฐุง ูุงู ุงูุฏูุน ููุฏู:
โ ุฎุตู ููุฑู ูู ุงูุฎุฒูุฉ ุงูุนุงูุฉ

ุฅุฐุง ูุงู ุงูุฏูุน ุขุฌู:
โ ุฅูุดุงุก ุงูุชุฒุงู ุฏูุน ููููุฑุฏ
โ ุงูุญุงูุฉ: ูุณุชูู
```

### **ุงููุฑุญูุฉ 4: ุฏูุน ุงูููุฑุฏ (ููุฏูุน ุงูุขุฌู)**
```
โ ุฏูุน ุงูููุฑุฏ
โ ุชุญุฏูุซ ุญุงูุฉ ุงูุฏูุน
โ ุฎุตู ูู ุงูุฎุฒูุฉ ุงูุนุงูุฉ
โ ุฑุจุท ูุน ุฃูุฑ ุงูุดุฑุงุก
```

## ๐ฏ **ุงููุฒุงูุง ุงููุญููุฉ**

### โ **1. ุฑุจุท ุชููุงุฆู ูุงูู**
- ุฃูุงูุฑ ุงูุดุฑุงุก ูุฑุชุจุทุฉ ุจุงููุฏููุนุงุช
- ุงููุฏููุนุงุช ูุฑุชุจุทุฉ ุจุงูุฎุฒูุฉ ุงูุนุงูุฉ
- ุชุชุจุน ุฏููู ูุฌููุน ุงูุนูููุงุช

### โ **2. ุฏูุฉ ูุงููุฉ**
- ุชูุงุฑูุฑ ุฃุฑุจุงุญ ุฏูููุฉ
- ุชุฏูู ููุฏู ูุงุถุญ
- ุงูุชุฒุงูุงุช ูุญุณูุจุฉ ุจุฏูุฉ

### โ **3. ุฅุฏุงุฑุฉ ุดุงููุฉ**
- ุชููุน ุงููุฏููุนุงุช ุงููุณุชูุจููุฉ
- ุฅุฏุงุฑุฉ ุงูุณูููุฉ
- ุชุฎุทูุท ุงูุชุฏูู ุงูููุฏู

### โ **4. ุชูุงุฑูุฑ ูููุฏุฉ**
- ุชูุฑูุฑ ุงููุดุชุฑูุงุช ูุงููุฏููุนุงุช
- ุชูุฑูุฑ ุงูุชุฏูู ุงูููุฏู
- ุชูุฑูุฑ ุงูุฃุฑุจุงุญ ูุงูุฎุณุงุฆุฑ

## ๐ **ุงูุชุบููุฑุงุช ุงูุชูููุฉ ุงููุทุจูุฉ**

### **1. Controllers ูุญุฏุซุฉ:**
- `PurchaseOrderController`: ุฅุถุงูุฉ ุฑุจุท ุงููุฏููุนุงุช
- `SupplierPaymentController`: ุฅุถุงูุฉ ุฏุงูุฉ ุงูุฏูุน
- ุฑุจุท ุชููุงุฆู ูุน ุงูุฎุฒูุฉ ุงูุนุงูุฉ

### **2. Models ูุญุณูุฉ:**
- `SupplierPayment`: ุฅุถุงูุฉ ุญููู ุงูุฑุจุท
- `Item`: ุฅุถุงูุฉ ุฏูุงู ุญุณุงุจ ุงูุฃุฑุจุงุญ
- ุนูุงูุงุช ูุญุณูุฉ ุจูู ุงูุฌุฏุงูู

### **3. Routes ุฌุฏูุฏุฉ:**
```php
// ุฏูุน ุงูููุฑุฏ
Route::put('supplier_payments/{supplierPayment}/pay', 'pay');
```

### **4. Views ูุญุฏุซุฉ:**
- ุตูุญุฉ ุนุฑุถ ุฃูุฑ ุงูุดุฑุงุก: ูุนูููุงุช ุงูุฏูุน
- ุตูุญุฉ ุนุฑุถ ูุฏููุนุงุช ุงูููุฑุฏูู: ุฃุฒุฑุงุฑ ุงูุฏูุน
- ุฑุณุงุฆู ุชูุถูุญูุฉ ููู ูุฑุญูุฉ

### **5. Migration ุฌุฏูุฏ:**
- ุฅุถุงูุฉ ุญููู `reference_type`, `reference_id`, `status`
- ููุงุฑุณ ููุจุญุซ ุงูุณุฑูุน

## ๐ **ููููุฉ ุงูุงุณุชุฎุฏุงู**

### **ุฅูุดุงุก ุฃูุฑ ุดุฑุงุก ุฌุฏูุฏ:**
1. ุงุฐูุจ ุฅูู **ุฃูุงูุฑ ุงูุดุฑุงุก** โ **ุฅูุดุงุก ุฌุฏูุฏ**
2. ุงููุฃ ุงูุจูุงูุงุช ูุงุฎุชุฑ ุทุฑููุฉ ุงูุฏูุน
3. ุงุญูุธ ุงูุฃูุฑ (ูุณูุฏุฉ)

### **ุชุฃููุฏ ุฃูุฑ ุงูุดุฑุงุก:**
1. ุงุถุบุท ุนูู **ุชุฃููุฏ ุงูุทูุจ**
2. ุณูุตุจุญ ูู ุญุงูุฉ "ูุทููุจ"

### **ุงุณุชูุงู ุงูุจุถุงุนุฉ:**
1. ุนูุฏ ูุตูู ุงูุจุถุงุนุฉุ ุงุถุบุท ุนูู **ุงุณุชูุงู ุงูุจุถุงุนุฉ**
2. ุณูุชู ุชุญุฏูุซ ุงููุฎุฒูู ุชููุงุฆูุงู
3. ุฅุฐุง ูุงู ุงูุฏูุน ููุฏู: ุฎุตู ูู ุงูุฎุฒูุฉ
4. ุฅุฐุง ูุงู ุงูุฏูุน ุขุฌู: ุฅูุดุงุก ุงูุชุฒุงู ุฏูุน

### **ุฏูุน ุงูููุฑุฏ (ููุฏูุน ุงูุขุฌู):**
1. ุงุฐูุจ ุฅูู **ูุฏููุนุงุช ุงูููุฑุฏูู**
2. ุงุถุบุท ุนูู **ุฏูุน ุงููุจูุบ**
3. ุณูุชู ุฎุตู ูู ุงูุฎุฒูุฉ ุงูุนุงูุฉ

## ๐ **ุงููุชุงุฆุฌ ุงููุชููุนุฉ**

### **ูุจู ุงูุชุทุจูู:**
- โ ุงููุตุงู ุจูู ุฃูุงูุฑ ุงูุดุฑุงุก ูุงููุฎุฒูู
- โ ุงููุตุงู ุจูู ุฃูุงูุฑ ุงูุดุฑุงุก ูุงููุฏููุนุงุช
- โ ุงููุตุงู ุจูู ุงููุฏููุนุงุช ูุงูุฎุฒูุฉ ุงูุนุงูุฉ
- โ ุชูุงุฑูุฑ ูุงููุฉ ุบูุฑ ุฏูููุฉ

### **ุจุนุฏ ุงูุชุทุจูู:**
- โ ุฑุจุท ุชููุงุฆู ุจูู ุฃูุงูุฑ ุงูุดุฑุงุก ูุงููุฎุฒูู
- โ ุฑุจุท ุชููุงุฆู ุจูู ุฃูุงูุฑ ุงูุดุฑุงุก ูุงููุฏููุนุงุช
- โ ุฑุจุท ุชููุงุฆู ุจูู ุงููุฏููุนุงุช ูุงูุฎุฒูุฉ ุงูุนุงูุฉ
- โ ุชูุงุฑูุฑ ูุงููุฉ ุฏูููุฉ ูุดุงููุฉ

## ๐ **ุงูุฎูุงุตุฉ**

ุชู ุชุทุจูู ุงูุฑุจุท ุงููุงูู ุจูุฌุงุญ! ุงูุขู ุงููุธุงู ูุนูู ููุญุฏุฉ ูุชูุงููุฉ:

- **ุฃูุงูุฑ ุงูุดุฑุงุก** โ **ุงููุฎุฒูู** โ **ุงููุฏููุนุงุช** โ **ุงูุฎุฒูุฉ ุงูุนุงูุฉ**
- **ุชุชุจุน ุฏููู** ูุฌููุน ุงูุนูููุงุช
- **ุชูุงุฑูุฑ ูุงููุฉ** ุฏูููุฉ ูุดุงููุฉ
- **ุฅุฏุงุฑุฉ ุดุงููุฉ** ููุชุฏูู ุงูููุฏู

ุงููุธุงู ุฃุตุจุญ ูุชูุงููุงู ูููููุงู! ๐ 